(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0ddbc32"],{"0430":function(t,e,i){"use strict";i("65c7")},"0cb2":function(t,e,i){var s=i("7b0b"),a=Math.floor,n="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,u,r,l){var m=i+t.length,d=u.length,h=c;return void 0!==r&&(r=s(r),h=o),n.call(l,h,(function(s,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(m);case"<":o=r[n.slice(1,-1)];break;default:var c=+n;if(0===c)return s;if(c>d){var l=a(c/10);return 0===l?s:l<=d?void 0===u[l-1]?n.charAt(1):u[l-1]+n.charAt(1):s}o=u[c-1]}return void 0===o?"":o}))}},1039:function(t,e,i){var s={"./customer-icon0.png":"ddee","./customer-icon1.png":"29c8","./customer-icon2.png":"4fba","./customer-icon3.png":"fd8d","./customer-icon4.png":"5bea","./customer-icon5.png":"c14e","./customer-icon6.png":"1991"};function a(t){var e=n(t);return i(e)}function n(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="1039"},"14c3":function(t,e,i){var s=i("c6b6"),a=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var n=i.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==s(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},1991:function(t,e,i){t.exports=i.p+"img/customer-icon6.b00ff3d6.png"},"29a3":function(t,e,i){"use strict";i("4312")},"29c8":function(t,e,i){t.exports=i.p+"img/customer-icon1.5d16c978.png"},3317:function(t,e,i){t.exports=i.p+"img/money-icon.50a8844b.png"},4312:function(t,e,i){},"4c56":function(t,e,i){t.exports=i.p+"img/heart-icon.bc25b395.png"},"4f7b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"restaurant"},[s("div",{staticClass:"restaurant-top"},[s("div",{staticClass:"time"},[s("span",[t._v("W "+t._s(t.weed))]),s("span",[t._v("D "+t._s(t.day))]),s("span",[t._v("H "+t._s(Math.floor(t.time/1e4)%24))])]),s("img",{staticClass:"setting",attrs:{src:i("788d")},on:{click:t.setting}}),s("div",{staticClass:"money"},[t._v(" "+t._s(t.money)+" ")])]),s("div",{staticClass:"restaurant-cook"},[s("div",{staticClass:"cooks"},t._l(t.cookList,(function(e,a){return s("dl",{key:"cook-"+a,staticClass:"cook-box",on:{click:function(i){return t.cookClickHandler(e,a)}}},[e.hasCook?s("div",{class:"cook "+e.status},[s("img",{attrs:{src:i("9b4f"),alt:""}}),"finish"===e.status?s("img",{staticClass:"cook-finish",attrs:{src:i("7d18"),alt:""}}):t._e()]):s("div",{staticClass:"cook empty"},[s("img",{attrs:{src:i("9b4f"),alt:""}})]),e.hasCook&&"default"!==e.status?s("div",{key:"cook-dishes-"+a+"-"+e.dish.name,staticClass:"cook-dishes-progress",style:{background:"work"===e.status?"linear-gradient(to right, #ff9122 0%, #ff9122 "+e.dish.cookTime/e.dish.maxCookTime*100+"%, #d96d00 "+e.dish.cookTime/e.dish.maxCookTime*100+"%, #d96d00 100%)":"#ac91ff"}},[t._v(" "+t._s(e.dish.name)+" ")]):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasCook&&"default"===e.status&&t.cookList.length>2,expression:"\n            cook.hasCook && cook.status === 'default' && cookList.length > 2\n          "}],staticClass:"cook-delete",on:{click:function(i){return t.fireCook(e,a)}}})])})),0)]),s("div",{staticClass:"restaurant-seat"},t._l(t.seatList,(function(e,a){return s("dl",{key:"seat-"+a,staticClass:"seat-box",on:{click:function(i){return t.seatClickHandler(e)}}},[s("div",{class:"seat "+e.status},[e.hasCustomer?s("img",{attrs:{src:e.customer.headImg}}):t._e()]),e.customer?s("div",{staticClass:"seat-dishes"},t._l(e.customer.dishes,(function(a){return s("div",{key:"seat-dishes-"+e.customer.id+"-"+a.name,staticClass:"seat-dishes-progress",class:"seat-dishes-"+a.status,style:{background:"wait"===a.status?"linear-gradient(to right, #ff2626 0%, #ff2626 "+a.waitTime/a.maxWaitTime*100+"%, #b20000 "+a.waitTime/a.maxWaitTime*100+"%, #b20000 100%)":"eat"===a.status?"pay"===e.status?"#00b200":"linear-gradient(to right, #ff9122 0%, #ff9122 "+a.eatTime/a.maxEatTime*100+"%, #d96d00 "+a.eatTime/a.maxEatTime*100+"%, #d96d00 100%)":"#535362"}},[t._v(" "+t._s(a.name)+" "),a.cookFinish&&"wait"===a.status?s("div",{staticClass:"seat-wait-finish",on:{click:function(i){return t.serveDish(e,a)}}},[s("img",{attrs:{src:i("7d18"),alt:""}})]):t._e()])})),0):t._e(),s("img",{directives:[{name:"show",rawName:"v-show",value:"cancel"===e.status,expression:"seat.status === 'cancel'"}],staticClass:"seat-appease",attrs:{src:i("4c56")}}),s("img",{directives:[{name:"show",rawName:"v-show",value:"pay"===e.status,expression:"seat.status === 'pay'"}],staticClass:"seat-pay-icon",attrs:{src:i("3317")}})])})),0),s("div",{staticClass:"restaurant-queue"},t._l(t.queueList,(function(e,i){return s("dl",{key:"queue-"+i,staticClass:"queue-box",style:{zIndex:t.queueList.length+1-i},on:{click:function(i){return i.stopPropagation(),t.selectMenuHandle(e)}}},[s("div",{staticClass:"queue"},[s("img",{attrs:{src:e.img}})]),s("div",{staticClass:"wait-progress",style:{background:"linear-gradient(to right, #2693ff 0%, #2693ff "+e.queueWatiTime/t.queueWatiTime*100+"%, #006dd9 "+e.queueWatiTime/t.queueWatiTime*100+"%, #006dd9 100%)"}},[t._v(" 等位中 ")])])})),0),s("menu-select",{attrs:{customer:t.menuCustomer},on:{finish:t.menuFinish},model:{value:t.menuVisible,callback:function(e){t.menuVisible=e},expression:"menuVisible"}}),s("setting",{attrs:{data:t.settingData,"game-rule-data":{maxWaitCustomerNum:t.maxWaitCustomerNum,dayTime:t.dayTime,queueWatiTime:t.queueWatiTime,cookSalary:t.cookSalary}},on:{save:t.settingSave,cancel:t.settingCancel},model:{value:t.settingVisible,callback:function(e){t.settingVisible=e},expression:"settingVisible"}})],1)},a=[],n=i("5530"),o=i("3835"),c=(i("d81d"),i("cb29"),i("a434"),i("13d5"),i("b64b"),i("d3b7"),i("ddb0"),i("159b"),i("b0c0"),i("99af"),i("caad"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"menu"},[i("div",{staticClass:"menu-wrapper"},[i("div",{staticClass:"menu-title"},[i("div",{staticClass:"menu-customer"},[i("img",{attrs:{src:t.menuData.headImg||""}})]),t._v(" "+t._s(t.menuData.name)+" 正在点菜，已点 "+t._s(t.totalPrice||0)+" 元的菜 ")]),i("div",{staticClass:"menu-content"},t._l(t.menuConfig,(function(e){return i("div",{key:e.name,staticClass:"menu-block"},[i("div",{staticClass:"menu-typename"},[t._v(" "+t._s(e.name)+"（"+t._s(t.numToChinese(e.dishes.length))+"选"+t._s(t.numToChinese(e.valueNum))+"，"+t._s(e.required?"必点":"可不点")+"） ")]),t._l(e.dishes,(function(s){return i("div",{key:s.name,staticClass:"menu-list"},[i("div",{staticClass:"menu-dish"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.menuData.values[e.name],expression:"menuData.values[dishType.name]"}],staticClass:"menu-checkbox",attrs:{type:"checkbox",name:e.name,disabled:t.menuData.values[e.name].length===e.valueNum&&!t.menuData.values[e.name].includes(s)},domProps:{value:s,checked:Array.isArray(t.menuData.values[e.name])?t._i(t.menuData.values[e.name],s)>-1:t.menuData.values[e.name]},on:{change:function(i){var a=t.menuData.values[e.name],n=i.target,o=!!n.checked;if(Array.isArray(a)){var c=s,u=t._i(a,c);n.checked?u<0&&t.$set(t.menuData.values,e.name,a.concat([c])):u>-1&&t.$set(t.menuData.values,e.name,a.slice(0,u).concat(a.slice(u+1)))}else t.$set(t.menuData.values,e.name,o)}}}),i("span",{staticClass:"menu-dish-name"},[t._v(t._s(s.name))]),i("span",{staticClass:"menu-dish-price"},[t._v("￥ "+t._s(s.price)+" ")])])])}))],2)})),0),i("div",{staticClass:"menu-btns"},[i("button",{class:{disabled:t.menuConfig.some((function(e){return e.required&&t.menuData.values[e.name].length<e.valueNum}))||0===t.menuConfig.reduce((function(e,i){return e+t.menuData.values[i.name].length}),0)},on:{click:t.menuFinish}},[t._v(" 点好了，快点上菜 ")]),i("button",{on:{click:function(e){return e.stopPropagation(),t.notEat(e)}}},[t._v("不吃了")])])])])}),u=[],r=(i("5319"),i("ac1f"),{name:"MenuSelect",props:{value:{type:Boolean,default:!1},customer:{type:Object,default:function(){return{}}}},data:function(){return{menuData:{},menuConfig:[{name:"凉菜",dishes:[{name:"凉拌黄瓜",price:6,maxCookTime:6e3,maxWaitTime:2e4,maxEatTime:1e4,cost:3},{name:"冷切豆腐",price:4,maxCookTime:4e3,maxWaitTime:2e4,maxEatTime:1e4,cost:2}],required:!1,valueNum:1},{name:"主菜",dishes:[{name:"猪肉炖粉条",price:12,maxCookTime:12e3,maxWaitTime:3e4,maxEatTime:15e3,cost:6},{name:"红烧蹄髈",price:16,maxCookTime:16e3,maxWaitTime:3e4,maxEatTime:15e3,cost:8},{name:"酥炸小黄鱼",price:15,maxCookTime:15e3,maxWaitTime:3e4,maxEatTime:15e3,cost:7},{name:"炙烤牛排",price:18,maxCookTime:18e3,maxWaitTime:3e4,maxEatTime:15e3,cost:9},{name:"清蒸鲈鱼",price:12,maxCookTime:12e3,maxWaitTime:3e4,maxEatTime:15e3,cost:6}],required:!0,valueNum:1},{name:"饮品",dishes:[{name:"鲜榨果汁",price:6,maxCookTime:6e3,maxWaitTime:2e4,maxEatTime:1e4,cost:3},{name:"碳酸饮料",price:5,maxCookTime:5e3,maxWaitTime:2e4,maxEatTime:1e4,cost:2}],required:!1,valueNum:1}]}},computed:{visible:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},totalPrice:function(){var t=this;return Object.keys(this.menuData.values||{}).reduce((function(e,i){return e+(t.menuData.values[i]||[]).reduce((function(t,e){return t+e.price}),0)}),0)}},watch:{visible:function(t){t&&this.setMenuData()}},methods:{numToChinese:function(t){var e=["零","一","二","三","四","五","六","七","八","九"];return t<10?e[t]:t<20?"十".concat(t%10>0?e[t%10]:""):t<100?"".concat(e[Math.floor(t/10)],"十").concat(t%10>0?e[t%10]:""):t<1e3?"".concat(e[Math.floor(t/100)],"百").concat(t%100>10?this.numToChinese(t%100):t%100===10?"一十":("零"+e[t%100]).replace(/零{2,}/,"")):t<1e4?"".concat(e[Math.floor(t/1e3)],"千").concat(t%1e3>100?this.numToChinese(t%1e3):("零"+this.numToChinese(t%1e3)).replace(/零{2,}/,"")):t<1e8?"".concat(this.numToChinese(Math.floor(t/1e4)),"万").concat(t%1e4>1e3?this.numToChinese(t%1e4):("零"+this.numToChinese(t%1e4)).replace(/零{2,}/,"")):"".concat(this.numToChinese(Math.floor(t/1e8)),"亿").concat(t%1e8>1e7?this.numToChinese(t%1e8):("零"+this.numToChinese(t%1e8)).replace(/零{2,}/,""))},setMenuData:function(){var t={headImg:this.customer.img,name:this.customer.name,id:this.customer.id};t.values=this.menuConfig.reduce((function(t,e){return t[e.name]=[],t}),{}),this.menuData=t},menuFinish:function(){this.$emit("finish",this.menuData)},notEat:function(){this.$emit("cancel"),this.visible=!1}},created:function(){this.setMenuData()}}),l=r,m=(i("a328"),i("2877")),d=Object(m["a"])(l,c,u,!1,null,"7c71820c",null),h=d.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"setting"},[i("div",{staticClass:"setting-wrapper"},[i("dt",{staticClass:"setting-title"},[t._v("设置")]),i("div",{staticClass:"setting-content"},[i("div",{staticClass:"setting-form"},t._l(t.settingForm,(function(e){return i("dl",{key:e.key,staticClass:"setting-form-item"},[i("label",{staticClass:"setting-form-label"},[t._v(t._s(e.label))]),"radio"===e.type?i("div",{staticClass:"setting-radio"},[t._l(e.radioList,(function(s){return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settingData[e.key],expression:"settingData[formItem.key]"}],key:"radio-"+e.key+"-"+s.value,attrs:{type:"radio"},domProps:{value:s.value,checked:t._q(t.settingData[e.key],s.value)},on:{change:function(i){return t.$set(t.settingData,e.key,s.value)}}}),i("span",{key:"radio-"+e.key+"-"+s.value+"-label",staticClass:"setting-radio-label"},[t._v(" "+t._s(s.label)+" ")])]}))],2):t._e()])})),0),i("button",{staticClass:"rule-btn",on:{click:t.showRule}},[t._v("查看规则")])]),i("div",{staticClass:"setting-btns"},[i("button",{on:{click:t.confirmFun}},[t._v("保存")]),i("button",{on:{click:t.cancelFun}},[t._v("取消")])])])])},p=[],v=(i("a15b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"rg-confirm"},[i("div",{staticClass:"confirm-wrapper",class:{"no-title":!t.title}},[t.title?i("dt",{staticClass:"confirm-title"},[t._v(t._s(t.title))]):t._e(),i("p",{staticClass:"confirm-content",domProps:{innerHTML:t._s(t.content)}}),i("div",{staticClass:"confirm-btns",class:{onlyone:!t.cancelBtnShow}},[i("button",{on:{click:t.confirmFun}},[t._v(t._s(t.confirmBtnText))]),t.cancelBtnShow?i("button",{on:{click:t.cancelFun}},[t._v(" "+t._s(t.cancelBtnText)+" ")]):t._e()])])])}),g=[],y={name:"RgConfirm",props:{title:{type:String,default:""},content:{type:String,default:""},confirmBtnText:{type:String,default:"确定"},cancelBtnText:{type:String,default:"取消"},cancelBtnShow:{type:Boolean,default:!0}},data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},close:function(){this.visible=!1},confirmFun:function(){this.close(),this.$emit("confirm")},cancelFun:function(){this.close(),this.$emit("cancel")}}},C=y,b=(i("77cc"),Object(m["a"])(C,v,g,!1,null,"6c45e086",null)),x=b.exports,k=i("2b0e"),T=k["default"].extend(x),E=function(t){var e=t.title,i=void 0===e?"":e,s=t.content,a=void 0===s?"":s,n=t.confirmBtnText,o=void 0===n?"确定":n,c=t.cancelBtnShow,u=void 0===c||c,r=t.cancelBtnText,l=void 0===r?"取消":r,m=new T;return m.title=i,m.content=a,m.confirmBtnText=o,m.cancelBtnShow=u,m.cancelBtnText=l,m.show(),m.$mount(),document.body.appendChild(m.$el),new Promise((function(t,e){m.$once("confirm",(function(){document.body.removeChild(m.$el),t()})),m.$once("cancel",(function(){document.body.removeChild(m.$el),e()}))}))},D=E,S={name:"Setting",props:{value:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},gameRuleData:{type:Object,default:function(){return{}}}},data:function(){return{settingData:{speed:1},settingForm:[{label:"速度",key:"speed",type:"radio",radioList:[{label:"1",value:1},{label:"2",value:2},{label:"4",value:4},{label:"10",value:10},{label:"20",value:20}]}]}},computed:{visible:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},rules:function(){var t=this.gameRuleData,e=t.dayTime,i=t.cookSalary,s=t.maxWaitCustomerNum,a=void 0===s?6:s;return["W+数字，表示第几周，每过7天，W后面的数字增加1","D+数字，表示星期几，每周有7天","H+数字，表示几点，每天有24小时，每小时有".concat(e/24e3,"秒"),"每个厨师的周薪为 ￥".concat(i),"解雇厨师时，支付厨师的当周工资及额外的解雇费用，解雇费用为一周工资。","金钱元素：显示在右上角，初始值为500","等候区最多容纳 ".concat(a," 位顾客。当等候区人满的时候，不会有新顾客来到餐厅。"),"当顾客所有菜都未按时上来时，顾客进入生气状态，需要你去安抚顾客，顾客才会离开，否则顾客会一直待到当天结束时才会离开餐厅；","当顾客完成用餐，会出现一个支付按钮，点击后，顾客进行支付，支付完成后，顾客离开餐厅；如果一直未点击支付按钮，顾客会待到当天结束时自行支付后离开","做菜：凉菜和饮品的速度较快，主菜较慢；做菜需要成本。","做好菜需要你上菜，如果做好菜顾客已经超时，等待一段5秒，如果没有顾客需要这个菜作废掉","厨师最多6名，最少1名","当厨师做菜时，点击厨师头像能加速做菜进度"]}},watch:{value:function(t){t&&(this.settingData={speed:this.data.speed||1})}},methods:{close:function(){this.visible=!1},confirmFun:function(){this.close(),this.$emit("save",this.settingData)},cancelFun:function(){this.close(),this.$emit("cancel")},showRule:function(){D({title:"规则",content:'<ul style="max-height: calc(100vh - 20rem);overflow-y: auto;padding-left: 1em;">\n          '.concat(this.rules.map((function(t){return"<li>"+t+"</li>"})).join(""),"\n        </ul>"),cancelBtnShow:!1})}}},w=S,A=(i("c67b"),Object(m["a"])(w,f,p,!1,null,"7f6333c2",null)),q=A.exports;i("a4d3"),i("e01a"),i("d28b"),i("3ca3");function R(t){return R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}var L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rg-toast",class:"toast-"+t.type,domProps:{innerHTML:t._s(t.content)}})},_=[],N={name:"RgToast",props:{content:{type:String,default:""},type:{type:String,default:"success",validator:function(t){return["success","error"].includes(t)}}}},W=N,I=(i("0430"),Object(m["a"])(W,L,_,!1,null,"4b0ddfda",null)),B=I.exports,O=k["default"].extend(B),P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===R(t)&&(e=t,t=e.content||"");var i=e,s=i.type,a=void 0===s?"success":s,n=i.delay,o=void 0===n?3e3:n,c=new O;c.type=a,c.content=t,c.$mount(),document.body.appendChild(c.$el),setTimeout((function(){document.body.removeChild(c.$el)}),o)};P.success=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===R(t)&&(e=t,t=e.content||""),e.type="success",P(t,e)},P.error=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===R(t)&&(e=t,t=e.content||""),e.type="error",P(t,e)};var F=P,K={components:{MenuSelect:h,Setting:q},data:function(){var t=["贾文乐","罗嘉平","庄翰海","袁翔宇","叶钧","杨尚","王振海"],e=new Array(7).fill(1).map((function(e,s){return{name:t[s],img:i("1039")("./customer-icon".concat(s,".png"))}}));return{id:1,weed:1,day:1,money:500,allCustomers:e,queueWatiTime:6e4,time:0,dayTime:24e4,loopTime:100,cookSalary:140,maxWaitCustomerNum:6,cookAccelerateTime:500,cookList:[{hasCook:!0,status:"default",enterTime:0},{hasCook:!1,status:"default"}],seatList:[{hasCustomer:!1,status:"empty"},{hasCustomer:!1,status:"empty"},{hasCustomer:!1,status:"empty"},{hasCustomer:!1,status:"empty"}],queueList:[],sto:null,status:"stop",menuCustomer:{},menuVisible:!1,dishesQueue:[],dayCustomerData:[],settingVisible:!1,speed:1}},computed:{settingData:function(){return{speed:this.speed}}},methods:{setting:function(){this.stop(),this.settingVisible=!0},settingSave:function(t){this.speed=t.speed,this.start()},settingCancel:function(){this.start()},selectMenuHandle:function(t){var e=this.queueList.indexOf(t);this.menuCustomer=t,e>-1&&this.queueList.splice(e,1),this.menuVisible=!0},menuFinish:function(t){for(var e=0;e<this.seatList.length;e++){var i=this.seatList[e];if(!i.hasCustomer){var s=Object.keys(t.values).reduce((function(e,i){return t.values[i].forEach((function(t){var i=Object(n["a"])(Object(n["a"])({},t),{},{waitTime:0,eatTime:0,status:"wait"}),s=Object(n["a"])(Object(n["a"])({},t),{},{cookTime:0,timeoutWait:0,timeout:!1,customerDish:i});i.cookDish=s,e[0].push(i),e[1].push(s)})),e}),[[],[]]),a=Object(o["a"])(s,2),c=a[0],u=a[1];Array.prototype.push.apply(this.dishesQueue,u),i.customer={headImg:t.headImg,id:t.id,name:t.name,dishes:c,eatQueue:[]},i.hasCustomer=!0,i.status="wait";break}}this.menuVisible=!1,F.success("".concat(t.name,'完成点餐，等候用餐<br/><div style="width: 14em;">疯狂点击厨师头像可以加速做菜</div>'))},serveDish:function(t,e){t.status="eat",t.customer.eatQueue.push(e),e.status="eat",e.cookDish.status="eat"},createComeTo:function(){var t=this.allCustomers.reduce((function(t,e){var i=Math.random()<.93356513215;return i&&t.push(Object(n["a"])(Object(n["a"])({},e),{},{time:Math.floor(18e4*Math.random())})),t}),[]),e=t[Math.floor(Math.random()*t.length)];e.time=Math.min(Math.floor(1e4*Math.random()),e.time),t.sort((function(t,e){return t.time-e.time})),this.dayCustomerData=t},emptySeat:function(t){t.hasCustomer=!1,t.status="empty",delete t.customer},cookClickHandler:function(t){var e=this;t.hasCook?"work"===t.status&&(t.dish.cookTime+=this.cookAccelerateTime,t.dish.cookTime>=t.dish.maxCookTime&&(t.status="finish",t.dish.customerDish&&(t.dish.customerDish.cookFinish=!0))):(this.stop(),D({title:"招聘新厨师",content:"招聘一名新厨师可以为你更快地为顾客烹饪菜肴，增加餐厅收入。你最多可以拥有六名厨师。<br/>但每个厨师每周需要你支付工资￥".concat(this.cookSalary,"<br/>请问你确认新招聘一名厨师吗？"),confirmBtnText:"是的，确认招聘",cancelBtnText:"先不了"}).then((function(){t.hasCook=!0,t.enterTime=e.time,F.success("招聘厨师成功，你已经有".concat(e.cookList.length,"名厨师了")),e.cookList.length<e.maxWaitCustomerNum&&e.cookList.push({hasCook:!1,status:"default"})})).catch((function(){})).finally((function(){e.start()})))},fireCook:function(t,e){var i=this,s=Math.floor(this.cookSalary*(1+this.time%(7*this.dayTime)/this.dayTime));this.stop(),D({title:"解雇厨师",content:"解雇当前闲置的厨师可以帮你节省成本。<br/>解雇时会按厨师本周已经工作的日子结算工资，并会赔偿一周工资作为解约金。<br/>解雇当前厨师结算工资及解约金需要付出￥".concat(s),confirmBtnText:"是的，确认解雇",cancelBtnText:"先不了"}).then((function(){i.money>=s?(i.cookList.splice(e,1),i.money-=s,F.success("解约厨师成功，解约支出￥".concat(s))):F.error("你的金额已经不足支付解约金")})).catch((function(){})).finally((function(){i.start()}))},customerPay:function(t){var e=t.customer.dishes.reduce((function(t,e){return t+("eat"===e.status?e.price:0)}),0);this.money+=e,F.success("".concat(t.customer.name,"完成用餐，收获￥").concat(e)),this.emptySeat(t)},appeaseCustomer:function(t){F.error("".concat(t.customer.name,"失望而归，别再让客人挨饿了")),this.emptySeat(t)},seatClickHandler:function(t){switch(t.status){case"pay":this.customerPay(t);break;case"cancel":this.appeaseCustomer(t);break}},loopCook:function(){for(var t=0;t<this.cookList.length;t++){var e=this.cookList[t];if(e.hasCook)if("default"===e.status){var i=null;while(this.dishesQueue.length&&null===i)i=this.dishesQueue.shift(),"cancel"===i.customerDish.status&&(i=null);i&&(this.money-=i.cost,e.dish=i,e.status="work")}else"work"===e.status?(e.dish.cookTime+=this.loopTime,e.dish.cookTime>=e.dish.maxCookTime&&(e.status="finish",e.dish.customerDish&&(e.dish.customerDish.cookFinish=!0))):"finish"===e.status&&e.dish.customerDish&&(e.dish.customerDish.timeout?(e.dish.timeoutWait+=this.loopTime,e.dish.timeoutWait>=5e3&&(e.status="default",delete e.dish)):"eat"===e.dish.customerDish.status&&(e.status="default",delete e.dish))}},loopSeat:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=0;i<this.seatList.length;i++){var s=this.seatList[i];s.hasCustomer&&(["eat","wait"].includes(s.status)&&function(){var e=0,i=0;s.customer.dishes.forEach((function(s){"wait"===s.status&&(s.waitTime+=t.loopTime,s.waitTime>=s.maxWaitTime&&(s.status="cancel",s.timeout=!0)),"eat"===s.status&&s.eatTime>=s.maxEatTime&&e++,"cancel"===s.status&&i++})),s.customer.eatQueue.length&&(s.customer.eatQueue[0].eatTime+=t.loopTime,s.customer.eatQueue[0].eatTime>=s.customer.eatQueue[0].maxEatTime&&(s.customer.eatQueue.shift(),e++)),e+i===s.customer.dishes.length&&(i===s.customer.dishes.length?s.status="cancel":s.status="pay")}(),e&&("cancel"===s.status?this.appeaseCustomer(s):"pay"===s.status&&this.customerPay(s)))}},loop:function(){var t=this,e=new Date;this.time+=this.loopTime;var i=Math.floor(this.time)%this.dayTime;0===i&&(this.createComeTo(),7===this.day?(this.money-=this.cookList.reduce((function(e,i){return i.hasCook?e+Math.min(Math.ceil((t.time-i.enterTime)/t.dayTime/7*t.cookSalary),t.cookSalary):e}),0),this.day=1,this.weed++):this.day++);for(var s=0;s<this.queueList.length;)this.queueList[s].queueWatiTime+=this.loopTime,!this.queueList[s].toastFlag&&this.queueList[s].queueWatiTime>this.queueWatiTime/2&&this.seatList.some((function(t){return!t.hasCustomer}))&&(this.queueList[s].toastFlag=!0,F.error("餐厅目前有空位，赶紧点击等位客人头像让客人入座就餐吧")),this.queueList[s].queueWatiTime>=this.queueWatiTime?this.queueList.splice(s,1):s++;this.loopCook(),this.loopSeat(0===i);while(this.dayCustomerData.length>0&&this.dayCustomerData[0].time<=i){var a=this.dayCustomerData.shift();this.queueList.length<6&&this.queueList.push(Object(n["a"])(Object(n["a"])({},a),{},{id:this.id++,queueWatiTime:0}))}this.sto=setTimeout(this.loop,Math.max(0,this.loopTime/this.speed-(new Date-e)))},stop:function(){this.status="stop",clearTimeout(this.sto)},start:function(){this.status="start",this.loop()}},mounted:function(){this.start()},created:function(){this.createComeTo()},destroyed:function(){clearTimeout(this.sto)}},U=K,Q=(i("29a3"),Object(m["a"])(U,s,a,!1,null,"68b58dde",null));e["default"]=Q.exports},"4fba":function(t,e,i){t.exports=i.p+"img/customer-icon2.522170fe.png"},5319:function(t,e,i){"use strict";var s=i("d784"),a=i("825a"),n=i("50c4"),o=i("a691"),c=i("1d80"),u=i("8aa5"),r=i("0cb2"),l=i("14c3"),m=Math.max,d=Math.min,h=function(t){return void 0===t?t:String(t)};s("replace",2,(function(t,e,i,s){var f=s.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=s.REPLACE_KEEPS_$0,v=f?"$":"$0";return[function(i,s){var a=c(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,a,s):e.call(String(a),i,s)},function(t,s){if(!f&&p||"string"===typeof s&&-1===s.indexOf(v)){var c=i(e,t,this,s);if(c.done)return c.value}var g=a(t),y=String(this),C="function"===typeof s;C||(s=String(s));var b=g.global;if(b){var x=g.unicode;g.lastIndex=0}var k=[];while(1){var T=l(g,y);if(null===T)break;if(k.push(T),!b)break;var E=String(T[0]);""===E&&(g.lastIndex=u(y,n(g.lastIndex),x))}for(var D="",S=0,w=0;w<k.length;w++){T=k[w];for(var A=String(T[0]),q=m(d(o(T.index),y.length),0),R=[],L=1;L<T.length;L++)R.push(h(T[L]));var _=T.groups;if(C){var N=[A].concat(R,q,y);void 0!==_&&N.push(_);var W=String(s.apply(void 0,N))}else W=r(A,y,q,R,_,s);q>=S&&(D+=y.slice(S,q)+W,S=q+A.length)}return D+y.slice(S)}]}))},"5bea":function(t,e,i){t.exports=i.p+"img/customer-icon4.e38574a5.png"},"5ed2":function(t,e,i){},"65c7":function(t,e,i){},"77cc":function(t,e,i){"use strict";i("d1d1")},"788d":function(t,e){t.exports="data:image/png;base64,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"},"7d18":function(t,e,i){t.exports=i.p+"img/get-icon.05f911f4.png"},"81d5":function(t,e,i){"use strict";var s=i("7b0b"),a=i("23cb"),n=i("50c4");t.exports=function(t){var e=s(this),i=n(e.length),o=arguments.length,c=a(o>1?arguments[1]:void 0,i),u=o>2?arguments[2]:void 0,r=void 0===u?i:a(u,i);while(r>c)e[c++]=t;return e}},"8aa5":function(t,e,i){"use strict";var s=i("6547").charAt;t.exports=function(t,e,i){return e+(i?s(t,e).length:1)}},9263:function(t,e,i){"use strict";var s=i("ad6d"),a=i("9f7f"),n=i("5692"),o=RegExp.prototype.exec,c=n("native-string-replace",String.prototype.replace),u=o,r=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],d=r||m||l;d&&(u=function(t){var e,i,a,n,u=this,d=l&&u.sticky,h=s.call(u),f=u.source,p=0,v=t;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),v=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(f="(?: "+f+")",v=" "+v,p++),i=new RegExp("^(?:"+f+")",h)),m&&(i=new RegExp("^"+f+"$(?!\\s)",h)),r&&(e=u.lastIndex),a=o.call(d?i:u,v),d?a?(a.input=a.input.slice(p),a[0]=a[0].slice(p),a.index=u.lastIndex,u.lastIndex+=a[0].length):u.lastIndex=0:r&&a&&(u.lastIndex=u.global?a.index+a[0].length:e),m&&a&&a.length>1&&c.call(a[0],i,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(a[n]=void 0)})),a}),t.exports=u},"9b4f":function(t,e,i){t.exports=i.p+"img/cook-icon.b6fdae25.png"},"9f7f":function(t,e,i){"use strict";var s=i("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=s((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=s((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,i){"use strict";var s=i("23e7"),a=i("44ad"),n=i("fc6a"),o=i("a640"),c=[].join,u=a!=Object,r=o("join",",");s({target:"Array",proto:!0,forced:u||!r},{join:function(t){return c.call(n(this),void 0===t?",":t)}})},a328:function(t,e,i){"use strict";i("db9c")},ac1f:function(t,e,i){"use strict";var s=i("23e7"),a=i("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,i){"use strict";var s=i("825a");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},c14e:function(t,e,i){t.exports=i.p+"img/customer-icon5.374abd6e.png"},c67b:function(t,e,i){"use strict";i("5ed2")},cb29:function(t,e,i){var s=i("23e7"),a=i("81d5"),n=i("44d2");s({target:"Array",proto:!0},{fill:a}),n("fill")},d1d1:function(t,e,i){},d784:function(t,e,i){"use strict";i("ac1f");var s=i("6eeb"),a=i("d039"),n=i("b622"),o=i("9263"),c=i("9112"),u=n("species"),r=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),m=n("replace"),d=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),h=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,m){var f=n(t),p=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),v=p&&!a((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[u]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return e=!0,null},i[f](""),!e}));if(!p||!v||"replace"===t&&(!r||!l||d)||"split"===t&&!h){var g=/./[f],y=i(f,""[t],(function(t,e,i,s,a){return e.exec===o?p&&!a?{done:!0,value:g.call(e,i,s)}:{done:!0,value:t.call(i,e,s)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),C=y[0],b=y[1];s(String.prototype,t,C),s(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}m&&c(RegExp.prototype[f],"sham",!0)}},db9c:function(t,e,i){},ddee:function(t,e,i){t.exports=i.p+"img/customer-icon0.dfefcb02.png"},fd8d:function(t,e,i){t.exports=i.p+"img/customer-icon3.9c6dc30d.png"}}]);
//# sourceMappingURL=chunk-b0ddbc32.a1f5552e.js.map