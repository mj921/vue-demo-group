(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dspSeed"],{1148:function(t,e,a){"use strict";var r=a("a691"),i=a("1d80");t.exports=function(t){var e=String(i(this)),a="",n=r(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(a+=e);return a}},"408a":function(t,e,a){var r=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"6b93":function(t,e,a){var r=a("23e7"),i=Math.log,n=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return i(t)*n}})},ade3:function(t,e,a){"use strict";function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return r}))},b680:function(t,e,a){"use strict";var r=a("23e7"),i=a("a691"),n=a("408a"),o=a("1148"),s=a("d039"),l=1..toFixed,u=Math.floor,c=function(t,e,a){return 0===e?a:e%2===1?c(t,e-1,a*t):c(t*t,e/2,a)},h=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},d=function(t,e,a){var r=-1,i=a;while(++r<6)i+=e*t[r],t[r]=i%1e7,i=u(i/1e7)},p=function(t,e){var a=6,r=0;while(--a>=0)r+=t[a],t[a]=u(r/e),r=r%e*1e7},f=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var r=String(t[e]);a=""===a?r:a+o.call("0",7-r.length)+r}return a},b=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));r({target:"Number",proto:!0,forced:b},{toFixed:function(t){var e,a,r,s,l=n(this),u=i(t),b=[0,0,0,0,0,0],v="",m="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=h(l*c(2,69,1))-69,a=e<0?l*c(2,-e,1):l/c(2,e,1),a*=4503599627370496,e=52-e,e>0){d(b,0,a),r=u;while(r>=7)d(b,1e7,0),r-=7;d(b,c(10,r,1),0),r=e-1;while(r>=23)p(b,1<<23),r-=23;p(b,1<<r),d(b,1,1),p(b,2),m=f(b)}else d(b,0,a),d(b,1<<-e,0),m=f(b)+o.call("0",u);return u>0?(s=m.length,m=v+(s<=u?"0."+o.call("0",u-s)+m:m.slice(0,s-u)+"."+m.slice(s-u))):m=v+m,m}})},bee2:function(t,e,a){"use strict";function r(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,a){return e&&r(t.prototype,e),a&&r(t,a),t}a.d(e,"a",(function(){return i}))},c637:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("111")])},i=[],n=a("d4ec"),o=a("bee2"),s=a("ade3"),l=(a("6b93"),{M:0,K:1,G:2,F:3,A:4,B:5,O:6,X:7}),u={MainSeqStar:0,GiantStar:1,WhiteDwarf:2,NeutronStar:3,BlackHole:4},c={clamp:function(t,e,a){return t<e?t=e:t>a&&(t=a),t},clamp01:function(t){var e;return e=t<0?0:t>1?1:t,e},lerp:function(t,e,a){return t+(e-t)*c.clamp01(a)}},h=c,d=(a("b680"),2147483647),p=function(){function t(e){Object(n["a"])(this,t),Object(s["a"])(this,"seedArray",new Array(56)),Object(s["a"])(this,"inext",void 0),Object(s["a"])(this,"inextp",void 0);var a=161803398-Math.abs(e);this.seedArray[55]=a;for(var r=1,i=1;i<55;i++){var o=21*i%55;this.seedArray[o]=r,r=a-r,r<0&&(r+=d),a=this.seedArray[o]}for(var l=1;l<5;l++)for(var u=1;u<56;u++)this.seedArray[u]-=this.seedArray[1+(u+30)%55],this.seedArray[u]<0&&(this.seedArray[u]+=d);this.inext=0,this.inextp=31}return Object(o["a"])(t,[{key:"sample",value:function(){++this.inext>=56&&(this.inext=1),++this.inextp>=56&&(this.inextp=1);var t=this.seedArray[this.inext]-this.seedArray[this.inextp];return t<0&&(t+=d),this.seedArray[this.inext]=t,4.656612875245797e-10*t*Math.pow(10,15).toFixed(0)/Math.pow(10,15)}},{key:"next",value:function(){return Math.round(this.sample()*d)}},{key:"nextDouble",value:function(){return this.sample()}}]),t}(),f=p,b=function(){function t(e,a){Object(n["a"])(this,t),Object(s["a"])(this,"seed",void 0),this.generate(e,a)}return Object(o["a"])(t,[{key:"generate",value:function(t,e){this.seed=t;for(var a=new Array(e),r=new f(t),i=(r.next(),Math.ceil(.01*e+.3*r.nextDouble())),n=Math.ceil(.01*e+.3*r.nextDouble()),o=Math.ceil(.016*e+.4*r.nextDouble()),s=Math.ceil(.013*e+1.4*r.nextDouble()),c=e-i,h=c-n,d=h-o,p=Math.floor((d-1)/s),b=Math.floor(p/2),v=0;v<e;v++){var m=r.next();if(0===v)a[v]=this.createBirthStar(m);else{var M=l.X;3===v?M=l.M:v===d-1&&(M=l.O);var g=u.MainSeqStar;v%p===b&&(g=u.GiantStar),v>=c?g=u.BlackHole:v>=h?g=u.NeutronStar:v>=d&&(g=u.WhiteDwarf),a[v]=this.createStar(e,v+1,m,g,M)}}console.log(a[0])}},{key:"createBirthStar",value:function(t){console.log(t);var e=new v;e.level=0,e.seed=t;var a=new f(t),r=(a.next(),a.next()),i=new f(r),n=i.nextDouble(),o=i.nextDouble(),s=i.nextDouble(),l=i.nextDouble(),u=i.nextDouble(),c=.2*i.nextDouble()+.9,d=.4*i.nextDouble()-.2,p=Math.pow(2,d),b=this.randNormal(0,.08,n,o);console.log("num4",n,o),b=h.clamp(b,-.2,.2),e.mass=Math.pow(2,b);var m=2+.4*(1-e.mass);e.lifetime=1e4*Math.pow(.1,Math.log10(.5*e.mass)/Math.log10(m)+1)*c,e.age=.4*s+.3;var M=(1-.5*Math.pow(h.clamp01(e.age),20))*e.mass;e.temperature=4450*Math.pow(M,.56+.14/(Math.log10(M+4)/Math.log10(5)))+1300;var g=Math.log10((e.temperature-1300)/4500)/Math.log10(2.6)-.5;g<0&&(g*=4),g>2?g=2:g<-4&&(g=-4),e.spectr=Math.round(g+4),e.color=h.clamp01(.2*(g+3.5)),e.luminosity=Math.pow(M,.7),e.radius=Math.pow(e.mass,.4)*p;var y=g+2;return e.orbitScaler=Math.pow(1.35,y),e.orbitScaler<1&&(e.orbitScaler=h.lerp(e.orbitScaler,1,.6)),this.setStarAge(e,e.age,l,u),e.dysonRadius=.28*e.orbitScaler,4e4*e.dysonRadius<1.5*e.physicsRadius&&(e.dysonRadius=1.5*e.physicsRadius/4e4),e}},{key:"setStarAge",value:function(t,e,a,r){var i=.1*a+.95,n=.4*r+.8,o=9*r+1;if(t.age=e,e>=1)t.mass>=18?(t.type=u.BlackHole,t.spectr=l.X,t.mass*=2.5*n,t.radius*=1,t.temperature=0,t.luminosity*=.001*i):t.mass>=7?(t.type=u.NeutronStar,t.spectr=l.X,t.mass*=.2*i,t.radius*=.15,t.temperature=1e7*o,t.luminosity*=.1*i,t.orbitScaler*=1.5*i):(t.type=u.WhiteDwarf,t.spectr=l.X,t.mass*=.2*i,t.radius*=.2,t.temperature=15e4*n,t.luminosity*=.04*n);else if(e>=.96){var s=5*Math.pow(5,Math.abs(Math.log10(t.mass)-.7));s>10&&(s=10*(Math.log(.1*s)+1));var c=1-.5*Math.pow(t.age,30);t.type=u.GiantStar,t.mass=c*t.mass,t.radius=s*n,t.temperature=c*t.temperature,t.luminosity=1.6*t.luminosity,t.orbitScaler=3.3*t.orbitScaler}}},{key:"createStar",value:function(t,e,a,r,i){var n=new v;n.level=(e-1)/(t-1),n.seed=a;var o=new f(a),s=(o.next(),o.next()),c=new f(s),d=c.nextDouble(),p=c.nextDouble(),b=c.nextDouble(),m=c.nextDouble(),M=c.nextDouble(),g=.2*(c.nextDouble()-.5),y=.2*c.nextDouble()+.9,w=.4*c.nextDouble()-.2,x=Math.pow(2,w),S=h.lerp(-.98,.88,n.level);S<0?S-=.65:S+=.65;var O=.33;r==u.GiantStar&&(S=w<=-.08?1.6:-1.5,O=.3);var j=this.randNormal(S,O,d,p);i==l.M?j=-3:i==l.O&&(j=3),j*=j>0?2:1,j=h.clamp(j,-2.4,4.65)+g+1,r==u.BlackHole?n.mass=18+d*p*30:r==u.NeutronStar?n.mass=7+11*d:r==u.WhiteDwarf?n.mass=1+5*p:n.mass=Math.pow(2,j);var D=5;n.mass<2&&(D=2+.4*(1-n.mass)),n.lifetime=1e4*Math.pow(.1,Math.log10(.5*n.mass)/Math.log10(D)+1)*y,r==u.GiantStar?(n.lifetime=1e4*Math.pow(.1,Math.log10(.58*n.mass)/Math.log10(D)+1)*y,n.age=.04*b+.96):r==u.BlackHole||r==u.NeutronStar||r==u.WhiteDwarf?(n.age=.4*b+1,r==u.WhiteDwarf?n.lifetime+=1e4:r==u.NeutronStar&&(n.lifetime+=1e3)):n.mass<.5?n.age=.12*b+.02:n.mass<.8?n.age=.4*b+.1:n.age=.7*b+.2;var k=n.lifetime*n.age;if(k>5e3&&(k=5e3*(Math.log(k/5e3)+1)),k>8e3){var A=k/8e3;A=Math.log(A)+1,A=Math.log(A)+1,A=Math.log(A)+1,k=8e3*A}n.lifetime=k/n.age;var R=(1-.5*Math.pow(h.clamp01(n.age),20))*n.mass;n.temperature=4450*Math.pow(R,.56+.14/(Math.log10(R+4)/Math.log10(5)))+1300;var N=Math.log10((n.temperature-1300)/4500)/Math.log10(2.6)-.5;N<0&&(N*=4),N>2?N=2:N<-4&&(N=-4),n.spectr=Math.round(N+4),n.color=h.clamp01(.2*(N+3.5)),n.luminosity=Math.pow(R,.7),n.radius=Math.pow(n.mass,.4)*x;var F=N+2;return n.orbitScaler=Math.pow(1.35,F),n.orbitScaler<1&&(n.orbitScaler=h.lerp(n.orbitScaler,1,.6)),this.setStarAge(n,n.age,m,M),n.dysonRadius=.28*n.orbitScaler,4e4*n.dysonRadius<1.5*n.physicsRadius&&(n.dysonRadius=1.5*n.physicsRadius/4e4),n}},{key:"randNormal",value:function(t,e,a,r){return console.log(t,e,Math.log(1-a),Math.sqrt(-2*Math.log(1-a)),Math.sin(2*Math.PI*r),t+e*Math.sqrt(-2*Math.log(1-a))*Math.sin(2*Math.PI*r)),t+e*Math.sqrt(-2*Math.log(1-a))*Math.sin(2*Math.PI*r)}}]),t}(),v=function(){function t(){Object(n["a"])(this,t),Object(s["a"])(this,"dysonRadiu",void 0),Object(s["a"])(this,"level",void 0),Object(s["a"])(this,"seed",void 0),Object(s["a"])(this,"index",void 0),Object(s["a"])(this,"mass",void 0),Object(s["a"])(this,"lifetime",void 0),Object(s["a"])(this,"age",void 0),Object(s["a"])(this,"luminosity",void 0),Object(s["a"])(this,"radius",void 0),Object(s["a"])(this,"type",void 0),Object(s["a"])(this,"temperature",void 0),Object(s["a"])(this,"spectr",void 0),Object(s["a"])(this,"orbitScaler",void 0),Object(s["a"])(this,"classFactor",void 0),Object(s["a"])(this,"color",void 0)}return Object(o["a"])(t,[{key:"dysonLumino",get:function(){return Math.round(1e3*Math.pow(this.luminosity,.33000001311302185))/1e3}},{key:"physicsRadius",get:function(){return 1200*this.radius}},{key:"viewRadius",get:function(){return 800*this.radius}},{key:"typeString",get:function(){return this.type===u.GiantStar?this.spectr<=l.K?"红巨星":this.spectr<=l.F?"黄巨星":this.spectr===l.A?"白巨星":"蓝巨星":this.type===u.WhiteDwarf?"白矮星":this.type===u.NeutronStar?"中子星":this.type===u.BlackHole?"黑洞":this.type===u.MainSeqStar?this.spectr.ToString()+"型恒星":""}}]),t}(),m=b,M={name:"DspSeed",created:function(){new m(12345678,1)}},g=M,y=a("2877"),w=Object(y["a"])(g,r,i,!1,null,"5a4ad03e",null);e["default"]=w.exports},d4ec:function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return r}))}}]);
//# sourceMappingURL=dspSeed.ee78f0a6.js.map