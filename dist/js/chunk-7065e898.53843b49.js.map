{"version":3,"sources":["webpack:///./src/views/pyGuessIdioms/index.vue?fef5","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/views/pyGuessIdioms/index.vue?360d","webpack:///src/views/pyGuessIdioms/index.vue","webpack:///./src/views/pyGuessIdioms/index.vue?a904","webpack:///./src/views/pyGuessIdioms/index.vue"],"names":["$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","toObject","toAbsoluteIndex","toLength","module","exports","value","O","argumentsLength","index","end","endPos","fill","render","_vm","_h","$createElement","_c","_self","staticClass","on","reset","_v","_s","cy","_e","_l","item","key","title","getScore","score","$event","rankVisible","inputRow","rowIndex","inputBlock","blockIndex","class","error","valid","inputCell","cellIndex","text","keyRow","keyRowIndex","keyCell","keyMap","keyInput","attrs","slot","history","join","staticRenderFns","el","type","arr","concat","data","score1","score2","num","historyLS","JSON","parse","cyPinYin","inputList","keyList","currRow","cyPinYinStr","currRowIndex","currBlockIndex","currCellIndex","scoreKeys","rowScore","rowErrorScore","errorScore","warnScore","rankNum","finish","methods","getChengyu","chengyudata","Math","floor","random","style","content","validResult","validate","slice","checkPy","RegExp","forEach","every","i","blockI","cellI","passNum","$nextTick","alert","saveScore","findItem","includes","rank","top","push","sort","bottom","localStorage","setItem","stringify","created","mounted","document","addEventListener","test","e","component"],"mappings":"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","file":"js/chunk-7065e898.53843b49.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=776e0e09&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cy-pinyin\"},[_c('div',[_c('button',{on:{\"click\":_vm.reset}},[_vm._v(\"重新开始\")]),(_vm.finish)?_c('span',[_vm._v(_vm._s(_vm.cy))]):_vm._e(),_vm._l((_vm.scoreKeys),function(item){return _c('span',{key:(\"show-\" + (item.key))},[_vm._v(_vm._s(item.title)+\"：\"+_vm._s(item.getScore ? item.getScore(_vm.score[item.key]) : _vm.score[item.key]))])}),_c('button',{on:{\"click\":function($event){_vm.rankVisible = true}}},[_vm._v(\"排行\")])],2),_c('div',{staticClass:\"cy-input\"},_vm._l((_vm.inputList),function(inputRow,rowIndex){return _c('dl',{key:(\"row-\" + rowIndex),staticClass:\"cy-row\"},_vm._l((inputRow),function(inputBlock,blockIndex){return _c('div',{key:(\"block-\" + rowIndex + \"-\" + blockIndex),staticClass:\"cy-block\",class:{ error: !inputBlock.valid }},_vm._l((inputBlock.content),function(inputCell,cellIndex){return _c('dd',{key:(\"cell-\" + rowIndex + \"-\" + blockIndex + \"-\" + cellIndex),staticClass:\"cy-cell\",class:(\"cy-cell-\" + (inputCell.validResult))},[_vm._v(\" \"+_vm._s(inputCell.text)+\" \")])}),0)}),0)}),0),_c('div',{staticClass:\"keyboard\"},_vm._l((_vm.keyList),function(keyRow,keyRowIndex){return _c('dl',{key:(\"key-row-\" + keyRowIndex),staticClass:\"key-row\"},_vm._l((keyRow),function(keyCell){return _c('dd',{key:(\"key-cell-\" + keyCell),staticClass:\"key-cell\",class:(\"key-cell-\" + (_vm.keyMap[keyCell] || '')),on:{\"click\":function($event){return _vm.keyInput(keyCell)}}},[_vm._v(\" \"+_vm._s(keyCell)+\" \")])}),0)}),0),_c('el-dialog',{staticClass:\"rank-dialog\",attrs:{\"title\":\"排行\",\"visible\":_vm.rankVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.rankVisible=$event}}},[_c('el-tabs',_vm._l((_vm.scoreKeys),function(item){return _c('el-tab-pane',{key:item.key,attrs:{\"label\":item.title}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12,\"offset\":0}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"top\")])]),_c('ul',_vm._l((_vm.history[item.key].top),function(score){return _c('li',{key:((item.key) + \"-top-\" + (score.score))},[_vm._v(\" \"+_vm._s(score.score)+\" \"+_vm._s(score.cy.join(\"，\"))+\" \")])}),0)])],1),_c('el-col',{attrs:{\"span\":12,\"offset\":0}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"bottom\")])]),_c('ul',_vm._l((_vm.history[item.key].bottom),function(score){return _c('li',{key:((item.key) + \"-bottom-\" + (score.score))},[_vm._v(\" \"+_vm._s(score.score)+\" \"+_vm._s(score.cy.join(\"，\"))+\" \")])}),0)])],1)],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cy-pinyin\">\n    <div>\n      <button @click=\"reset\">重新开始</button>\n      <span v-if=\"finish\">{{ cy }}</span>\n      <span v-for=\"item in scoreKeys\" :key=\"`show-${item.key}`\"\n        >{{ item.title }}：{{\n          item.getScore ? item.getScore(score[item.key]) : score[item.key]\n        }}</span\n      >\n      <button @click=\"rankVisible = true\">排行</button>\n    </div>\n    <div class=\"cy-input\">\n      <dl\n        class=\"cy-row\"\n        v-for=\"(inputRow, rowIndex) in inputList\"\n        :key=\"`row-${rowIndex}`\"\n      >\n        <div\n          class=\"cy-block\"\n          :class=\"{ error: !inputBlock.valid }\"\n          v-for=\"(inputBlock, blockIndex) in inputRow\"\n          :key=\"`block-${rowIndex}-${blockIndex}`\"\n        >\n          <dd\n            class=\"cy-cell\"\n            v-for=\"(inputCell, cellIndex) in inputBlock.content\"\n            :key=\"`cell-${rowIndex}-${blockIndex}-${cellIndex}`\"\n            :class=\"`cy-cell-${inputCell.validResult}`\"\n          >\n            {{ inputCell.text }}\n          </dd>\n        </div>\n      </dl>\n    </div>\n    <div class=\"keyboard\">\n      <dl\n        class=\"key-row\"\n        v-for=\"(keyRow, keyRowIndex) in keyList\"\n        :key=\"`key-row-${keyRowIndex}`\"\n      >\n        <dd\n          class=\"key-cell\"\n          v-for=\"keyCell in keyRow\"\n          :key=\"`key-cell-${keyCell}`\"\n          :class=\"`key-cell-${keyMap[keyCell] || ''}`\"\n          @click=\"keyInput(keyCell)\"\n        >\n          {{ keyCell }}\n        </dd>\n      </dl>\n    </div>\n    <el-dialog\n      title=\"排行\"\n      :visible.sync=\"rankVisible\"\n      width=\"600px\"\n      class=\"rank-dialog\"\n    >\n      <el-tabs>\n        <el-tab-pane\n          v-for=\"item in scoreKeys\"\n          :key=\"item.key\"\n          :label=\"item.title\"\n        >\n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\" :offset=\"0\">\n              <el-card class=\"box-card\">\n                <div slot=\"header\" class=\"clearfix\">\n                  <span>top</span>\n                </div>\n                <ul>\n                  <li\n                    v-for=\"score in history[item.key].top\"\n                    :key=\"`${item.key}-top-${score.score}`\"\n                  >\n                    {{ score.score }} {{ score.cy.join(\"，\") }}\n                  </li>\n                </ul>\n              </el-card>\n            </el-col>\n            <el-col :span=\"12\" :offset=\"0\">\n              <el-card class=\"box-card\">\n                <div slot=\"header\" class=\"clearfix\">\n                  <span>bottom</span>\n                </div>\n                <ul>\n                  <li\n                    v-for=\"score in history[item.key].bottom\"\n                    :key=\"`${item.key}-bottom-${score.score}`\"\n                  >\n                    {{ score.score }} {{ score.cy.join(\"，\") }}\n                  </li>\n                </ul>\n              </el-card>\n            </el-col>\n          </el-row>\n        </el-tab-pane>\n      </el-tabs>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport pinyin from \"pinyin\";\nimport chengyuData from \"./data/cyData.json\";\nconst chengyudata = chengyuData.reduce((arr, el) => {\n  if (el.type === 1) {\n    return arr.concat([el.data]);\n  }\n  return arr;\n}, []);\nexport default {\n  data() {\n    const historyLS = localStorage.getItem(\"cyHistory\");\n    let history = {\n      score1: { top: [], bottom: [] },\n      score2: { top: [], bottom: [] },\n      num: 0,\n    };\n    if (historyLS) {\n      try {\n        history = JSON.parse(historyLS);\n      } catch (e) {\n        history = {\n          score1: { top: [], bottom: [] },\n          score2: { top: [], bottom: [] },\n          num: 0,\n        };\n      }\n    }\n    return {\n      cy: \"\",\n      cyPinYin: [],\n      inputList: [],\n      keyList: [\n        [\"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\"],\n        [\"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\"],\n        [\"Enter\", \"Z\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"⌫\"],\n      ],\n      currRow: \"\",\n      cyPinYinStr: \"\",\n      currRowIndex: 0,\n      currBlockIndex: 0,\n      currCellIndex: 0,\n      keyMap: {},\n      history,\n      scoreKeys: [\n        {\n          key: \"score1\",\n          title: \"按行分数\",\n          getScore: (score) => {\n            if (this.finish) return score;\n            Object.keys(this.keyMap).forEach((key) => {\n              if (this.keyMap[key] === \"error\") {\n                score -= this.errorScore;\n              }\n            });\n            return score;\n          },\n        },\n        {\n          key: \"score2\",\n          title: \"按字母分数\",\n        },\n      ],\n      score: {\n        score1: 100,\n        score2: 100,\n      },\n      rowScore: 10,\n      rowErrorScore: 2,\n      errorScore: 2,\n      warnScore: 1,\n      rankNum: 50,\n      rankVisible: false,\n      finish: false,\n    };\n  },\n  methods: {\n    getChengyu() {\n      return chengyudata[Math.floor(chengyudata.length * Math.random())];\n    },\n    reset() {\n      this.cy = this.getChengyu();\n      this.cyPinYin = pinyin(this.cy, {\n        style: pinyin.STYLE_NORMAL,\n      });\n      this.cyPinYinStr = this.cyPinYin\n        .reduce((str, el) => str + el[0], \"\")\n        .toUpperCase();\n      this.inputList = Array(6)\n        .fill(1)\n        .map(() =>\n          this.cyPinYin.map((el) => ({\n            valid: true,\n            content: Array(el[0].length)\n              .fill(1)\n              .map(() => ({\n                text: \"\",\n                validResult: \"\",\n              })),\n          }))\n        );\n\n      this.currRowIndex = 0;\n      this.currBlockIndex = 0;\n      this.currCellIndex = 0;\n      this.currRow = \"\";\n      this.keyMap = {};\n      this.finish = false;\n      this.score = {\n        score1: 100,\n        score2: 100,\n      };\n    },\n    keyInput(key) {\n      if (this.currRowIndex >= 6 || this.finish) return;\n      if (key === \"Enter\") {\n        if (this.currRow.length === this.cyPinYinStr.length) {\n          this.validate();\n        }\n      } else if (key === \"⌫\") {\n        if (this.currRow) {\n          this.currRow = this.currRow.slice(0, -1);\n          if (this.currCellIndex === 0) {\n            this.currBlockIndex--;\n            this.currCellIndex =\n              this.inputList[this.currRowIndex][this.currBlockIndex].content\n                .length - 1;\n          } else {\n            this.currCellIndex--;\n          }\n          this.inputList[this.currRowIndex][this.currBlockIndex].content[\n            this.currCellIndex\n          ].text = \"\";\n        }\n      } else if (this.currRow.length < this.cyPinYinStr.length) {\n        this.currRow += key;\n        this.inputList[this.currRowIndex][this.currBlockIndex].content[\n          this.currCellIndex\n        ].text = key;\n        if (\n          this.inputList[this.currRowIndex][this.currBlockIndex].content\n            .length -\n            1 >\n          this.currCellIndex\n        ) {\n          this.currCellIndex++;\n        } else if (\n          this.inputList[this.currRowIndex].length - 1 >\n          this.currBlockIndex\n        ) {\n          this.currCellIndex = 0;\n          this.currBlockIndex++;\n        } else {\n          this.currCellIndex++;\n        }\n      }\n    },\n    checkPy(str) {\n      const list1 = [\n        \"b\",\n        \"c\",\n        \"ch\",\n        \"d\",\n        \"f\",\n        \"g\",\n        \"h\",\n        \"j\",\n        \"k\",\n        \"l\",\n        \"m\",\n        \"n\",\n        \"p\",\n        \"q\",\n        \"r\",\n        \"s\",\n        \"sh\",\n        \"t\",\n        \"w\",\n        \"x\",\n        \"y\",\n        \"z\",\n        \"zh\",\n      ];\n      const list2 = [\n        \"ong\",\n        \"ing\",\n        \"eng\",\n        \"ang\",\n        \"vn\",\n        \"un\",\n        \"in\",\n        \"en\",\n        \"an\",\n        \"er\",\n        \"ve\",\n        \"ia\",\n        \"ie\",\n        \"iu\",\n        \"ou\",\n        \"ao\",\n        \"ui\",\n        \"ei\",\n        \"ai\",\n        \"u\",\n        \"i\",\n        \"e\",\n        \"o\",\n        \"a\",\n        \"ang\",\n        \"uang\",\n        \"uan\",\n        \"an\",\n        \"ao\",\n        \"ai\",\n        \"en\",\n        \"er\",\n        \"ou\",\n        \"a\",\n        \"o\",\n        \"e\",\n        \"uo\",\n        \"ua\",\n        \"ue\",\n        \"iao\",\n        \"ian\",\n        \"iang\",\n        \"iong\",\n        \"v\",\n      ];\n      return new RegExp(`^(${list1.join(\"|\")})?(${list2.join(\"|\")})?$`).test(\n        str.toLowerCase()\n      );\n    },\n    validate() {\n      this.inputList[this.currRowIndex].forEach((el) => {\n        el.valid = this.checkPy(el.content.map((item) => item.text).join(\"\"));\n      });\n      if (!this.inputList[this.currRowIndex].every((el) => el.valid)) {\n        return;\n      }\n      let passNum = 0;\n      for (let i = 0, blockI = 0, cellI = 0; i < this.currRow.length; i++) {\n        const key = this.currRow[i];\n        if (key === this.cyPinYinStr[i]) {\n          this.inputList[this.currRowIndex][blockI].content[cellI].validResult =\n            \"pass\";\n          this.keyMap[key] = \"pass\";\n          passNum++;\n        } else if (this.cyPinYinStr.includes(key)) {\n          this.inputList[this.currRowIndex][blockI].content[cellI].validResult =\n            \"has\";\n          this.score.score2 -= this.warnScore;\n          if (this.keyMap[key] !== \"pass\") {\n            this.keyMap[key] = \"has\";\n          }\n        } else {\n          this.inputList[this.currRowIndex][blockI].content[cellI].validResult =\n            \"error\";\n          this.score.score2 -= this.errorScore;\n          if (!this.keyMap[key]) {\n            this.keyMap[key] = \"error\";\n          }\n        }\n        if (\n          this.inputList[this.currRowIndex][blockI].content.length - 1 >\n          cellI\n        ) {\n          cellI++;\n        } else if (this.inputList[this.currRowIndex].length - 1 > blockI) {\n          cellI = 0;\n          blockI++;\n        }\n      }\n      if (passNum === this.cyPinYinStr.length) {\n        this.finish = true;\n        this.$nextTick(() => {\n          alert(`答对了，${this.cy}`);\n        });\n      }\n      if (!this.finish) {\n        this.score.score1 -= this.rowScore;\n      } else {\n        for (let key in this.keyMap) {\n          if (this.keyMap[key] === \"error\") {\n            this.score.score1 -= this.rowErrorScore;\n          }\n        }\n        this.saveScore();\n      }\n      this.currRowIndex++;\n      this.currBlockIndex = 0;\n      this.currCellIndex = 0;\n      this.currRow = \"\";\n      if (this.currRowIndex >= 6 && !this.finish) {\n        this.finish = true;\n        this.score.score1 = this.score.score2 = 0;\n        this.$nextTick(() => {\n          alert(`答错了，${this.cy}`);\n        });\n      }\n    },\n    saveScore() {\n      this.scoreKeys.forEach(({ key }) => {\n        const rank = this.history[key];\n        let findItem;\n        if ((findItem = rank.top.find((el) => el.score === this.score[key]))) {\n          if (!findItem.cy.includes(this.cy)) findItem.cy.push(this.cy);\n        } else if (\n          rank.top.length < this.rankNum ||\n          rank.top[rank.top.length - 1].score < this.score[key]\n        ) {\n          rank.top.push({ score: this.score[key], cy: [this.cy] });\n          rank.top.sort((a, b) => b.score - a.score);\n          rank.top.slice(0, this.rankNum);\n        } else if (\n          rank.top[rank.top.length - 1].score === this.score[key] &&\n          !rank.top[rank.top.length - 1].cy.includes(this.cy)\n        ) {\n          rank.top[rank.top.length - 1].cy.push(this.cy);\n        }\n        if (\n          (findItem = rank.bottom.find((el) => el.score === this.score[key]))\n        ) {\n          if (!findItem.cy.includes(this.cy)) findItem.cy.push(this.cy);\n        } else if (\n          rank.bottom.length < this.rankNum ||\n          rank.bottom[rank.bottom.length - 1].score > this.score[key]\n        ) {\n          rank.bottom.push({ score: this.score[key], cy: [this.cy] });\n          rank.bottom.sort((a, b) => a.score - b.score);\n          rank.bottom.slice(0, this.rankNum);\n        } else if (\n          rank.bottom[rank.top.length - 1].score === this.score[key] &&\n          !rank.bottom[rank.top.length - 1].cy.includes(this.cy)\n        ) {\n          rank.bottom[rank.top.length - 1].cy.push(this.cy);\n        }\n      });\n      this.history.num++;\n      localStorage.setItem(\"cyHistory\", JSON.stringify(this.history));\n    },\n  },\n  created() {\n    this.reset();\n  },\n  mounted() {\n    document.addEventListener(\"keyup\", (e) => {\n      if (/^[a-z]$/.test(e.key)) {\n        this.keyInput(e.key.toUpperCase());\n      } else if (e.key === \"Backspace\") {\n        this.keyInput(\"⌫\");\n      } else if (e.key === \"Enter\") {\n        this.keyInput(\"Enter\");\n      }\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.cy-pinyin {\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .cy-input {\n    margin-top: 10px;\n    .cy-row {\n      display: flex;\n      margin-bottom: 10px;\n      .cy-block {\n        display: flex;\n        &:not(:last-child) {\n          margin-right: 10px;\n        }\n        .cy-cell {\n          width: 50px;\n          height: 50px;\n          text-align: center;\n          line-height: 50px;\n          &:not(:last-child) {\n            margin-right: 2px;\n          }\n          background-color: #edf2f7;\n          user-select: none;\n          color: #718096;\n          &.cy-cell-pass {\n            background-color: #38a169;\n            color: #fff;\n          }\n          &.cy-cell-has {\n            background-color: #d69e2e;\n            color: #fff;\n          }\n          &.cy-cell-error {\n            background-color: #718096;\n            color: #fff;\n          }\n        }\n        &.error {\n          .cy-cell {\n            border: 5px solid red;\n            box-sizing: border-box;\n            line-height: 40px;\n          }\n        }\n      }\n    }\n  }\n  .keyboard {\n    .key-row {\n      display: flex;\n      justify-content: center;\n      margin-bottom: 5px;\n      width: 665px;\n      .key-cell {\n        padding: 0 26px;\n        height: 40px;\n        border-radius: 3px;\n        background-color: #e2e8f0;\n        text-align: center;\n        line-height: 40px;\n        user-select: none;\n        &:not(:last-child) {\n          margin-right: 5px;\n        }\n        color: #718096;\n        &.key-cell-pass {\n          background-color: #38a169;\n          color: #fff;\n        }\n        &.key-cell-has {\n          background-color: #d69e2e;\n          color: #fff;\n        }\n        &.key-cell-error {\n          background-color: #718096;\n          color: #fff;\n        }\n      }\n    }\n  }\n}\n.rank-dialog {\n  /deep/ {\n    .el-dialog__body {\n      padding-top: 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=776e0e09&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=776e0e09&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"776e0e09\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}